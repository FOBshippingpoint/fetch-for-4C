import{S as W,i as X,s as Y,e as Z,a as C,d as O,b as f,c as S,t as r,f as T,g as l,l as $,h as I,n as z,j as x}from"./vendor.682a5531.js";const ee=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}};ee();function G(i,e,a){const o=i.slice();return o[6]=e[a],o}function te(i){let e,a=i[6].message+"",o,t=" ",n,s,d,k,_=i[6].jobStatus+"",b,L,U,c=i[6].lastUpdate&&J(i);return{c(){e=f("div"),o=r(a),n=r(t),s=S(),d=f("i"),k=r("job status: "),b=r(_),L=S(),c&&c.c(),U=S()},m(p,h){C(p,e,h),l(e,o),l(e,n),l(e,s),l(e,d),l(d,k),l(d,b),l(d,L),c&&c.m(d,null),l(e,U)},p(p,h){h&2&&a!==(a=p[6].message+"")&&I(o,a),h&2&&_!==(_=p[6].jobStatus+"")&&I(b,_),p[6].lastUpdate?c?c.p(p,h):(c=J(p),c.c(),c.m(d,null)):c&&(c.d(1),c=null)},d(p){p&&O(e),c&&c.d()}}}function le(i){let e,a=i[6].message+"",o,t=" ",n,s,d,k,_=i[6].newsLink+"",b,L,U=" ",c,p,h,P,q=i[6].jobStatus+"",D,N,j=new Date(parseInt(i[6].lastUpdate,10)).toLocaleTimeString()+"",E,y;return{c(){e=f("div"),o=r(a),n=r(t),s=f("b"),d=r("link: "),k=f("a"),b=r(_),c=r(U),p=S(),h=f("i"),P=r("job status: "),D=r(q),N=r("; last update: "),E=r(j),y=S(),T(k,"href",L=i[6].newsLink)},m(v,w){C(v,e,w),l(e,o),l(e,n),l(e,s),l(s,d),l(s,k),l(k,b),l(e,c),l(e,p),l(e,h),l(h,P),l(h,D),l(h,N),l(h,E),l(e,y)},p(v,w){w&2&&a!==(a=v[6].message+"")&&I(o,a),w&2&&_!==(_=v[6].newsLink+"")&&I(b,_),w&2&&L!==(L=v[6].newsLink)&&T(k,"href",L),w&2&&q!==(q=v[6].jobStatus+"")&&I(D,q),w&2&&j!==(j=new Date(parseInt(v[6].lastUpdate,10)).toLocaleTimeString()+"")&&I(E,j)},d(v){v&&O(e)}}}function J(i){let e,a=new Date(parseInt(i[6].lastUpdate,10)).toLocaleTimeString()+"",o;return{c(){e=r("; last update: "),o=r(a)},m(t,n){C(t,e,n),C(t,o,n)},p(t,n){n&2&&a!==(a=new Date(parseInt(t[6].lastUpdate,10)).toLocaleTimeString()+"")&&I(o,a)},d(t){t&&O(e),t&&O(o)}}}function Q(i){let e;function a(n,s){return n[6].newsLink?le:te}let o=a(i),t=o(i);return{c(){t.c(),e=Z()},m(n,s){t.m(n,s),C(n,e,s)},p(n,s){o===(o=a(n))&&t?t.p(n,s):(t.d(1),t=o(n),t&&(t.c(),t.m(e.parentNode,e)))},d(n){t.d(n),n&&O(e)}}}function ne(i){let e,a,o,t,n,s,d,k,_,b,L,U,c,p,h,P,q,D,N,j,E,y,v=(i[0]?"STOP":"START")+"",w,B,R,F,H,M=i[1],g=[];for(let u=0;u<M.length;u+=1)g[u]=Q(G(i,M,u));return{c(){e=f("main"),a=f("h1"),a.innerHTML='<ch class="svelte-1n15m86">\u7814\u7A76\u6240\u5099\u53D6\u722C\u87F2</ch>',o=S(),t=f("div"),n=f("div"),s=f("ch"),d=r("\u6211\u7684\u670B\u53CB\u73FE\u5728\u6B63\u5728\u7B49\u5F85\u7814\u7A76\u6240\u5099\u53D6\u540D\u984D\uFF0C\u6240\u4EE5\u6211\u5BEB\u4E86\u4E00\u500B\u722C\u87F2\u7A0B\u5F0F\u4F86\u770B\u4ED6\u6703\u4E0D\u6703\u4E0A\u3002"),k=f("br"),_=r(`\u722C\u87F2\u6703\u6BCF\u5206\u9418\u66F4\u65B0\u4E00\u6B21\uFF0C\u6309\u4E0B\u6309\u9215\u958B\u59CB\u722C\u87F2\u3002
        `),b=f("br"),L=S(),U=f("br"),c=S(),p=f("ins"),h=r("\u73FE\u5728\u6709"),P=r(i[2]),q=r("\u4EBA\u5728\u7DDA\u4E0A\u7B49\u5F85\u7D50\u679C"),D=S(),N=f("section"),j=f("blockquote");for(let u=0;u<g.length;u+=1)g[u].c();E=S(),y=f("button"),w=r(v),B=S(),R=f("meta"),T(s,"class","svelte-1n15m86"),T(t,"class","terminal-card"),T(y,"class","btn btn-default"),T(y,"name","submit"),T(y,"id","submit"),T(e,"class","container"),T(R,"http-equiv","Content-Security-Policy"),T(R,"content","connect-src "+V+" 'self'; child-src 'none'; object-src 'none'")},m(u,A){C(u,e,A),l(e,a),l(e,o),l(e,t),l(t,n),l(n,s),l(s,d),l(s,k),l(s,_),l(s,b),l(s,L),l(s,U),l(s,c),l(s,p),l(p,h),l(p,P),l(p,q),l(e,D),l(e,N),l(N,j);for(let m=0;m<g.length;m+=1)g[m].m(j,null);l(e,E),l(e,y),l(y,w),C(u,B,A),l(document.head,R),F||(H=$(y,"click",i[3]),F=!0)},p(u,[A]){if(A&4&&I(P,u[2]),A&2){M=u[1];let m;for(m=0;m<M.length;m+=1){const K=G(u,M,m);g[m]?g[m].p(K,A):(g[m]=Q(K),g[m].c(),g[m].m(j,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=M.length}A&1&&v!==(v=(u[0]?"STOP":"START")+"")&&I(w,v)},i:z,o:z,d(u){u&&O(e),x(g,u),u&&O(B),O(R),F=!1,H()}}}const V="https://immgt-fetcher.herokuapp.com";function se(i,e,a){let o=!1,t,n=[],s=1;async function d(){try{const b=await(await fetch(V+"/crawl")).json();b.newsLink&&clearInterval(t),a(2,s=b.onlineCount?b.onlineCount:1),a(1,n=[...n,b])}catch(_){a(1,n=[...n,_])}}function k(){if(a(0,o=!o),o){d(),t=setInterval(d,1e3*60);return}clearInterval(t)}return[o,n,s,k]}class oe extends W{constructor(e){super();X(this,e,se,ne,Y,{})}}new oe({target:document.getElementById("app")});
